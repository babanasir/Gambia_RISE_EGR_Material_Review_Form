<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gambia RISE Review Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f7f9fb; }
        
        /* Dynamic Link Button Styles */
        #documentLinkButton, #googleFormLinkButton {
            transition: all 0.3s ease; transform: scale(1); opacity: 0.5; cursor: not-allowed; filter: grayscale(100%);
        }
        #documentLinkButton.active, #googleFormLinkButton.active {
            opacity: 1; cursor: pointer; transform: scale(1.05); filter: grayscale(0%);
        }
        
        /* Add pulse animation to the primary link */
        #documentLinkButton.active {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(100, 149, 237, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(100, 149, 237, 0); }
            100% { box-shadow: 0 0 0 0 rgba(100, 149, 237, 0); }
        }
    </style>
</head>
<body class="p-4 sm:p-8">

    <div class="max-w-4xl mx-auto bg-white p-6 sm:p-10 shadow-xl rounded-xl">
        
        <header class="mb-8 border-b pb-4">
            <h1 class="text-3xl font-extrabold text-blue-900 mb-2">Gambia RISE Foundational Literacy Project</h1>
            <h2 class="text-xl font-semibold text-gray-700">EGR Expert Review Form</h2>
        </header>
        <section id="reviewer-instructions" class="mb-8 p-4 bg-yellow-50 border border-yellow-300 rounded-lg shadow">
            <h2 class="text-xl font-bold text-yellow-900 mb-3">ðŸŽ¯ Key Reviewer Instructions</h2>
            <ul class="list-disc list-outside space-y-2 pl-5 text-gray-700">
                <li>
                    <strong>Do NOT edit the document directly.</strong> All feedback must be provided using comments and guidance notes only. The materials writers will implement the changes.
                </li>
                <li>
                    <strong>Focus on Key Criteria:</strong> Verify <strong>1) Linguistic Accuracy</strong> (correct orthography/spelling), <strong>2) Pedagogical Quality</strong> (gradual progression, correct GPC sequence), <strong>3) Cultural Relevance</strong>, and <strong>4) Gender/Inclusion</strong> (e.g., 50/50 gender, 15% disability).
                </li>
                <li>
                    <strong>Provide a Final Recommendation:</strong> You must select an "Overall Recommendation" (Approve, Revise, etc.) and ensure the quality rating meets the minimums (<strong>80%</strong> for field testing, <strong>90%</strong> for final production).
                </li>
            </ul>
            <div class="mt-4">
                <a href="YOUR_LINK_TO_FULL_BRIEFING_DOC.pdf" target="_blank" class="font-medium text-blue-600 hover:text-blue-800 hover:underline">
                    View/Download the Full Reviewer Briefing (placeholder) &rarr;
                </a>
            </div>
        </section>
        <section id="selection-form" class="space-y-6 mb-10 p-6 bg-gray-50 rounded-lg shadow-inner">
            <h2 class="text-xl font-bold text-gray-700 mb-4">1. Document Selection</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div>
                    <label for="docType" class="block text-sm font-medium text-gray-700 mb-1">Document Type</label>
                    <select id="docType" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm">
                        <option value="" disabled selected>Select Type</option>
                        <option value="Teacher Guide">Teacher Guide</option>
                        <option value="Pupil Book">Pupil Book</option>
                        <option value="Supplementary Material">Supplementary Materials</option>
                        <option value="Other">Other</option>
                    </select>
                </div>

                <div>
                    <label for="language" class="block text-sm font-medium text-gray-700 mb-1">Language</label>
                    <select id="language" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm">
                        <option value="" disabled selected>Select Language</option>
                        <option value="English">English</option>
                        <option value="Pulaar">Pulaar</option>
                        <option value="Jola">Jola</option>
                        <option value="Mandinka">Mandinka</option>
                        <option value="Manjaku">Manjaku</option>
                        <option value="Serahuleh">Serahuleh</option>
                        <option value="Seereer">Seereer</option>
                        <option value="Olof">Olof</option>
                    </select>
                </div>

                <div>
                    <label for="gradeLevel" class="block text-sm font-medium text-gray-700 mb-1">Grade/Level</label>
                    <select id="gradeLevel" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm">
                        <option value="" disabled selected>Select Grade</option>
                        <option value="ECD 2">ECD 2</option>
                        <option value="ECD 3">ECD 3</option>
                        <option value="Grade 1">Grade 1</option>
                    </select>
                </div>
            </div>

            <div id="linkContainer" class="text-center p-4 bg-blue-100 rounded-lg border border-blue-300 mt-6">
                <p id="statusMessage" class="text-lg text-blue-800 font-semibold">
                    Please make all three selections above.
                </p>

                <a id="documentLinkButton" href="#" target="_blank" download
                   class="hidden mt-3 inline-flex items-center justify-center px-6 py-2 border border-transparent text-base font-medium rounded-full text-white bg-blue-600 hover:bg-blue-700 shadow-lg focus:outline-none focus:ring-4 focus:ring-blue-500 focus:ring-opacity-50 active:scale-95">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
                    Download: <span id="documentName" class="ml-2 font-bold"></span>
                </a>

                <a id="googleFormLinkButton" href="https://docs.google.com/forms/d/e/1FAIpQLSd79ZWIeAlxKVw9cdYKIbllzjw1Wsmr8sd1y9i9nBU2--pVMg/viewform"
                   target="_blank" 
                   class="hidden mt-3 inline-flex items-center justify-center px-6 py-2 border border-transparent text-base font-medium rounded-full text-white bg-green-600 hover:bg-green-700 shadow-lg focus:outline-none focus:ring-4 focus:ring-green-500 focus:ring-opacity-50 active:scale-95">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 className" 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg>
                    Open Review Form
                </a>
            </div>
        </section>
        <hr class="my-10 border-t-2 border-gray-100">
        <section id="dashboard-embed" class="mt-10">
            <h2 class="text-3xl font-extrabold text-blue-900 mb-4">
                ðŸ“Š Live Expert Review Dashboard
            </h2>
            <p class="text-gray-600 mb-6">
                This dashboard shows the live status of all reviews submitted via the Google Form.
            </p>
            
            <div class="bg-white shadow-xl rounded-xl border border-gray-200 overflow-hidden">
                <iframe 
                    id="dashboard-frame"
                    src="https://babanasir.github.io/rise-dashboard/review_dashboard.html"
                    class="w-full h-[800px] border-0"
                    title="RISE External Review Tracking Dashboard">
                </iframe>
            </div>
        </section>
        </div> <script>
        // --- Document Link Mapping (MUST BE CONFIGURED) ---
        // The key is a concatenation of DocType_Language_GradeLevel.
        const DOCUMENT_LINKS = {
            // Updated example keys with new language/grade names
            "Teacher Guide_English_Grade 1": { name: "Grade 1 English Teacher Guide (Draft 2)", url: "https://docs.google.com/document/d/1djFgckcae_FGfnauY75tvdo6B6L84ja/edit?usp=drive_link&ouid=116530440022733619189&rtpof=true&sd=true" },
            "Pupil Book_Pulaar_ECD 2": { name: "ECD 2 Pulaar Pupil Book (Draft 1)", url: "YOUR_GDRIVE_LIVE_EDIT_LINK_2_HERE" },
            "Supplementary Material_Jola_ECD 3": { name: "ECD 3 Jola Supplementary Material (Final)", url: "YOUR_GDRIVE_LIVE_EDIT_LINK_3_HERE" },
            // Add all your document mappings here using the full text of the options:
            // "Teacher Guide_Serahuleh_Grade 1": { name: "Grade 1 Serahuleh TG", url: "https://docs.google.com/document/d/..." },
            
            "default": { name: "Document Not Mapped", url: "#" }
        };

        const docTypeSelect = document.getElementById('docType');
        const languageSelect = document.getElementById('language');
        const gradeLevelSelect = document.getElementById('gradeLevel');
        const documentLinkButton = document.getElementById('documentLinkButton');
        const googleFormLinkButton = document.getElementById('googleFormLinkButton'); // New button
        const documentNameSpan = document.getElementById('documentName');
        const statusMessage = document.getElementById('statusMessage');

        const selectors = [docTypeSelect, languageSelect, gradeLevelSelect];

        // --- Core Logic for Selection and Form Reveal ---
        function checkSelections() {
            const docType = docTypeSelect.value;
            const language = languageSelect.value;
            const gradeLevel = gradeLevelSelect.value;

            if (docType && language && gradeLevel) {
                const key = `${docType}_${language}_${gradeLevel}`;
                const docInfo = DOCUMENT_LINKS[key] || DOCUMENT_LINKS['default'];

                // Configure Document Download Link
                documentNameSpan.textContent = docInfo.name;
                documentLinkButton.href = docInfo.url;
                documentLinkButton.setAttribute('download', docInfo.name + '.pdf'); // Adds download attribute

                // Show both buttons
                documentLinkButton.classList.remove('hidden');
                documentLinkButton.classList.add('active');
                googleFormLinkButton.classList.remove('hidden');
                googleFormLinkButton.classList.add('active');
                
                statusMessage.classList.add('hidden');

            } else {
                // Hide both buttons
                documentLinkButton.classList.add('hidden');
                documentLinkButton.classList.remove('active');
                googleFormLinkButton.classList.add('hidden');
                googleFormLinkButton.classList.remove('active');

                // Show status message
                statusMessage.classList.remove('hidden');
                statusMessage.textContent = "Please make all three selections above to load the document link.";
            }
        }

        // --- Initialization ---
        selectors.forEach(select => {
            select.addEventListener('change', checkSelections);
        });
        
        // Initial check on load
        checkSelections();
    </script>
</body>
</html>
